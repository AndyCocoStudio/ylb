!function(){var e={goodsID:"",name:"",price:"",weight:"",freight:"",thumbnail:[],introduceImages:[],brief:{content:"",img:""},info:[{name:"",value:""},{name:"",value:""}],deduction:"",sku:"",vendorID:"",status:"",kind1:"",kind1Code:"",kind2:"",kind2Code:""},t={data:{others:{path:"list"},goods:{},flist:[],slist:[]},init:function(){t.getFlist(),$("#test").dropzone({url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:1,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(e,t){vcustomer.tobesaler.license=t.data}})},getData:function(){$.ajax({url:"/api/goods/query",type:"get",success:function(e){e.result&&(t.data.goods=e.data,t.buildVue())}})},getFlist:function(){$.ajax({url:"/api/goods/kinds?all=1&code=",type:"get"}).done(function(e){e.result&&(t.data.flist=e.data,t.getData())})},imgUpload:function(){alert(1),$("#lbt").dropzone({url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:1,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(e,t){vcustomer.tobesaler.license=t.data}}),alert(2)},buildVue:function(){e=new Vue({el:"#product-main",data:t.data,methods:{addGoods:function(){e.others.path="add"},editGoods:function(){e.others.path="edit"},delGoods:function(e){var a=e.target.id;$.ajax({url:"/api/goods?id="+a,type:"DELETE"}).done(function(e){e.result&&(alert("删除成功！"),t.getData())})},cancle:function(){e.others.path="list"},getSlist:function(t){var a=t.target.options[t.target.selectedIndex].value;$.ajax({url:"/api/goods/kinds?all=1&code="+a,type:"get"}).done(function(t){t.result&&(console.log(e.slist),e.slist=t.data)})},setData:function(){console.log(e.detail),$.ajax({url:"/api/goods",type:"put",data:JSON.stringify(e.detail),succuess:function(e){e.result&&console.log("succuess!!")}})}}}),setTimeout(function(){$("#tttt").dropzone({url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:1,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(e,t){vcustomer.tobesaler.license=t.data}})},1e3)}};t.init()}();