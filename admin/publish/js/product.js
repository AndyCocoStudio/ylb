!function(){var t={goodsID:"",name:"",price:"",weight:"",freight:"",thumbnail:[],introduceImages:[],brief:{content:"",img:""},info:[{name:"",value:""},{name:"",value:""}],deduction:"",sku:"",vendorID:"",status:"",kind1:"",kind1Code:"",kind2:"",kind2Code:""},e={data:{others:{path:"list"},goods:{},flist:[],slist:[]},init:function(){e.getFlist()},getData:function(){$.ajax({url:"/api/goods/query",type:"get",success:function(t){t.result&&(e.data.goods=t.data,e.buildVue())}})},getFlist:function(){$.ajax({url:"/api/goods/kinds?all=1&code=",type:"get"}).done(function(t){t.result&&(e.data.flist=t.data,e.getData())})},buildVue:function(){t=new Vue({el:"#product-main",data:e.data,methods:{addGoods:function(){t.others.path="add"},editGoods:function(){t.others.path="edit"},delGoods:function(t){var a=t.target.id;$.ajax({url:"/api/goods?id="+a,type:"DELETE"}).done(function(t){t.result&&(alert("删除成功！"),e.getData())})},cancle:function(){t.others.path="list"},getSlist:function(e){var a=e.target.options[e.target.selectedIndex].value;$.ajax({url:"/api/goods/kinds?all=1&code="+a,type:"get"}).done(function(e){e.result&&(console.log(t.slist),t.slist=e.data)})},setData:function(){console.log(t.detail),$.ajax({url:"/api/goods",type:"put",data:JSON.stringify(t.detail),succuess:function(t){t.result&&console.log("succuess!!")}})}}})}};e.init()}();