!function(){var e={update:[{areaID:"1",images:[{brief:"",image:"",url:""}]},{areaID:"2",images:[{brief:"",image:"",url:""}]},{areaID:"3",images:[{brief:"",image:"",url:""}]},{areaID:"4",images:[{brief:"",image:"",url:""}]},{areaID:"5",images:[{brief:"",image:"",url:""}]},{areaID:"6",images:[{brief:"",image:"",url:""}]}]},a={init:function(){a.getBanner()},imgUpload:function(){$("#banner1").dropzone({init:function(){this.on("removedfile",function(a){e.update[0].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[0].images[0].image=i.data}}),$("#banner2").dropzone({init:function(){this.on("removedfile",function(a){e.update[1].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[1].images[0].image=i.data}}),$("#banner3").dropzone({init:function(){this.on("removedfile",function(a){e.update[2].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[2].images[0].image=i.data}}),$("#banner4").dropzone({init:function(){this.on("removedfile",function(a){e.update[3].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[3].images[0].image=i.data}}),$("#banner5").dropzone({init:function(){this.on("removedfile",function(a){e.update[4].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[4].images[0].image=i.data}}),$("#banner6").dropzone({init:function(){this.on("removedfile",function(a){e.update[5].images[0].image=""})},url:$.apiUrl+"/upload",paramName:"file",maxFiles:1,maxFilesize:2,acceptedFiles:"image/*",addRemoveLinks:!0,dictResponseError:"上传文件出错！",success:function(a,i){e.update[5].images[0].image=i.data}})},getBanner:function(){$.when($.ajax({url:$.apiUrl+"/banner",type:"GET"})).done(function(i){e.list=i.data,e.update=i.data,a.buildVue()})},buildVue:function(){e=new Vue({el:"#banner-main",data:e,methods:{updatebanner:function(){$.ajax({url:$.apiUrl+"/banner",type:"POST",data:JSON.stringify(e.update)}).done(function(e){$.ylbAjaxHandler(e,function(){$.ylbAlert("更新成功！"),a.getBanner()})})}}}),setTimeout(a.imgUpload,1e3)}};a.init()}();