!function(){var t={cp:1,sz:20,t:0,y:"",m:"",role:"",pc:"",cc:"",ac:"",plist:[],clist:[],alist:[]},a={init:function(){a.getpList()},getpList:function(){$.when($.ajax({url:$.apiUrl+"/address",type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){t.plist=n.data,a.getList()})})},updatecity:function(a){$.ajax({url:$.apiUrl+"/address?code="+a,type:"GET"}).done(function(a){$.ylbAjaxHandler(a,function(){t.clist=a.data})})},updatearea:function(a){$.ajax({url:$.apiUrl+"/address?code="+a,type:"GET"}).done(function(a){$.ylbAjaxHandler(a,function(){t.alist=a.data})})},getList:function(){$.when($.ajax({url:$.apiUrl+"/wages?pc="+t.pc+"&cc="+t.cc+"&ac="+t.ac+"&cp="+t.cp+"&sz="+t.sz+"&y="+t.y+"&m="+t.m+"&role="+t.role,type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){t.list=n.data.wages,t.year=n.data.year,t.month=n.data.month,t.t=n.data.totalCount,a.buildVue()})})},buildVue:function(){t=new Vue({el:"#wages-main",data:t,methods:{sendwage:function(t){$.ajax({url:$.apiUrl+"/areamanager/wage",type:"POST",data:JSON.stringify({userID:t})}).done(function(t){$.ylbAjaxHandler(t,function(){$.ylbAlert("操作成功！"),a.getList()})})},changeprov:function(n){var e=$(n.target).find("option:selected").val();t.pc=e,t.cc="",t.ac="",t.alist=[],a.updatecity(e)},changecity:function(n){var e=$(n.target).find("option:selected").val();t.cc=e,t.ac="",a.updatearea(e)},changearea:function(a){var n=$(a.target).find("option:selected").val();t.ac=n},changeyear:function(a){var n=$(a.target).find("option:selected").val();t.y=n},changemonth:function(a){var n=$(a.target).find("option:selected").val();t.m=n},changerole:function(a){var n=$(a.target).find("option:selected").val();t.y=n},prev:function(){t.cp<=1||(t.cp=+t.cp-1,a.getList())},next:function(){t.cp>=Math.ceil(t.t/t.sz)||(t.cp=+t.cp+1,a.getList())},jump:function(){t.cp>=Math.ceil(t.t/t.sz)&&(t.cp=Math.ceil(t.t/t.sz)),t.cp<=1&&(t.cp=1),a.getList()},filterlist:function(){a.getList()}}})}};a.init()}();