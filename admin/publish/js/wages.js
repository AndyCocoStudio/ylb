!function(){var t={cp:1,sz:20,t:0,y:(new Date).getFullYear(),m:0==(new Date).getMonth()?12:(new Date).getMonth(),cty:(new Date).getFullYear(),ctm:12==(new Date).getMonth()?1:(new Date).getMonth()+1,role:"",pc:"",cc:"",ac:"",plist:[],clist:[],alist:[]},e={init:function(){e.getpList()},getpList:function(){$.when($.ajax({url:$.apiUrl+"/address",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){t.plist=a.data,e.getList()})})},updatecity:function(e){$.ajax({url:$.apiUrl+"/address?code="+e,type:"GET"}).done(function(e){$.ylbAjaxHandler(e,function(){t.clist=e.data})})},updatearea:function(e){$.ajax({url:$.apiUrl+"/address?code="+e,type:"GET"}).done(function(e){$.ylbAjaxHandler(e,function(){t.alist=e.data})})},getList:function(){$.when($.ajax({url:$.apiUrl+"/wages?pc="+t.pc+"&cc="+t.cc+"&ac="+t.ac+"&cp="+t.cp+"&sz="+t.sz+"&y="+t.y+"&m="+t.m+"&r="+t.role,type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){t.list=a.data.wages,t.year=a.data.year,t.month=a.data.month,t.t=a.data.totalCount,e.buildVue()})})},buildVue:function(){t=new Vue({el:"#wages-main",data:t,methods:{sendwage:function(t){$.ajax({url:$.apiUrl+"/areamanager/wage",type:"POST",data:JSON.stringify({userID:t})}).done(function(t){$.ylbAjaxHandler(t,function(){$.ylbAlert("操作成功！"),e.getList()})})},changeprov:function(a){var n=$(a.target).find("option:selected").val();t.pc=n,t.cc="",t.ac="",t.alist=[],e.updatecity(n)},changecity:function(a){var n=$(a.target).find("option:selected").val();t.cc=n,t.ac="",e.updatearea(n)},changearea:function(e){var a=$(e.target).find("option:selected").val();t.ac=a},changeyear:function(e){var a=$(e.target).find("option:selected").val();t.y=a},changemonth:function(e){var a=$(e.target).find("option:selected").val();t.m=a},changerole:function(e){var a=$(e.target).find("option:selected").val();t.role=a},prev:function(){t.cp<=1||(t.cp=+t.cp-1,e.getList())},next:function(){t.cp>=Math.ceil(t.t/t.sz)||(t.cp=+t.cp+1,e.getList())},jump:function(){t.cp>=Math.ceil(t.t/t.sz)&&(t.cp=Math.ceil(t.t/t.sz)),t.cp<=1&&(t.cp=1),e.getList()},filterlist:function(){e.getList()}}}),setTimeout(function(){$.setLeftBar("wages")},100)}};e.init()}();