!function(){var e={goods:{},plat:{},service:{}},t={init:function(){t.getCashPool()},buildEcharts:function(){var o=echarts.init(document.getElementById("goods")),l=echarts.init(document.getElementById("plat")),a=echarts.init(document.getElementById("service")),r={backgroundColor:"#2c343c",title:{text:"货款资金池",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"资金比例",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:e.goods.cash,name:"现金"},{value:e.goods.score,name:"积分"}].sort(function(e,t){return e.value-t.value}),roseType:"angle",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},n={backgroundColor:"#2c343c",title:{text:"平台费资金池",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"资金比例",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:e.plat.cash,name:"现金"},{value:e.plat.score,name:"积分"}].sort(function(e,t){return e.value-t.value}),roseType:"angle",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},c={backgroundColor:"#2c343c",title:{text:"服务费资金池",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"资金比例",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:e.service.cash,name:"现金"},{value:e.service.score,name:"积分"}].sort(function(e,t){return e.value-t.value}),roseType:"angle",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};o.setOption(r),l.setOption(n),a.setOption(c),t.buildVue()},getCashPool:function(){$.when($.ajax({url:$.apiUrl+"/statistics/pool",type:"GET"})).done(function(o){$.ylbAjaxHandler(o,function(){e.goods=o.data[2],e.plat=o.data[1],e.service=o.data[0],console.log(e.goods),console.log(e.plat),console.log(e.service),t.buildEcharts()})})},buildVue:function(){e=new Vue({el:"#cashpool-main",data:e,methods:{}})}};t.init()}();