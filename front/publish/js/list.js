!function(){var n={cp:1,t:0,sz:9,k1:$.urlParam("k1")||"",k2:$.urlParam("k2")||"",n:$.urlParam("n")||""},t={init:function(){setInterval(t.bannerAnimate,4e3),t.loadList(),$.checkFlag()},loadList:function(){$.when($.ajax({url:$.apiUrl+"/goods/query?k1="+n.k1+"&k2="+n.k2+"&n="+n.n+"&cp="+n.cp+"&sz="+n.sz,type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){n.product=a.data,n.t=a.data.totalCount,t.buildVue()})})},getNav:function(){$.when($.ajax({url:$.apiUrl+"/goods/kinds",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){n.nav=a.data,t.buildVue()})})},buildVue:function(){n=new Vue({el:"#list-main",data:n,methods:{prev:function(){n.cp<=1||(n.cp=+n.cp-1,t.loadList())},next:function(){n.cp>=Math.ceil(n.t/n.sz)||(n.cp=+n.cp+1,t.loadList())},jump:function(){n.cp>=Math.ceil(n.t/n.sz)&&(n.cp=Math.ceil(n.t/n.sz)),n.cp<=1&&(n.cp=1),t.loadList()}}})},bannerAnimate:function(){var n,t=$(".list-banner").find(".select"),a=$(".list-banner li").length,e=t.index();n=e>=a-1?$(".list-banner li:first-child"):t.next("li"),t.fadeOut().removeClass("select"),n.addClass("select").fadeIn()}};t.init()}();