!function(e){"use strict";e.apiUrl="/api",e.ylbError=function(r){if(1001===r);else if(2001===r)e.ylbAlert("服务器开小差了,请稍后重试...");else switch(r){case"4001":e.ylbAlert("验证码错误");break;case"4002":e.ylbAlert("验证码过期");break;case"4003":e.ylbAlert("抵扣的积分超过允许上限");break;case"4004":e.ylbAlert("没有足够的积分用来抵扣");break;case"4005":e.ylbAlert("找不到用户");break;case"4006":e.ylbAlert("查询不到商品");break;default:e.ylbAlert("服务器又开小差")}},e.ylbAjaxHandler=function(r,l,a){r.result?l():(e.ylbError(r.error),a&&a())},e.ylbAlert=function(r,l){var a=(e(window).width()-240)/2;l=l||1500;var t=['<div class="ylb-alert">',r,"</div>"],n=e(t.join("")).css("left",a).appendTo("body");n.show(),setTimeout(function(){n.remove()},l)},e.urlParam=function(e,r){r||(r=window.location.href);try{var l=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(r);return l?l[1]||"":""}catch(a){return""}},e.localStorageHandler=function(e,r,l){switch(e){case"set":localStorage.setItem(r,l);break;case"get":return localStorage.getItem(r);case"clear":localStorage.removeItem(r);break;case"clearall":localStorage.clear()}},e.parseHandler=function(r,l){switch(r){case"js":return JSON.stringify(l);case"sj":return e.parseJSON(l)}},e.ylbAddCart=function(r,l){var a=e.localStorageHandler("get",r);if(a){for(var t=e.parseHandler("sj",a),n=!1,o=0,c=t.length;c>o;o++)if(t[o].goodsID==l.goodsID){n=!0;break}n?e.ylbAlert("商品已添加购物车"):(l="["+a.substring(1,a.length-1)+","+e.parseHandler("js",l)+"]",e.localStorageHandler("set",r,l),e.ylbAlert("添加成功"))}else e.localStorageHandler("set",r,"["+e.parseHandler("js",l)+"]"),e.ylbAlert("添加成功")},e.ylbRemoveCart=function(r,l){for(var a=e.localStorageHandler("get",r),t=e.parseHandler("sj",a),n="",o=0,c=t.length;c>o;o++)t[o].goodsID!=l&&(n+=e.parseHandler("js",t[o])+",");n="["+n.substring(0,n.length-1)+"]",e.localStorageHandler("set",r,n)}}(jQuery),function(){$(".ylb-search").on("click",function(){$(".ylb-cover").fadeIn(),$(".ylb-search-wrap").fadeIn()}),$(".ylb-menu").on("click",function(){$(".ylb-cover").fadeIn(),$(".ylb-menu-wrap").fadeIn()}),$(".ylb-cover, .ylb-menu-wrap").on("click",function(){$(".ylb-cover").fadeOut(),$(".ylb-search-wrap").fadeOut(),$(".ylb-menu-wrap").fadeOut()});new Vue({el:"#ylb-layout",data:{sc:""},methods:{search:function(){this.sc?location.href="/list.html?n="+this.sc:location.href="/list.html"}}})}();