!function(){var t={plist:[],clist:[],alist:[],pc:"",cc:"",ac:"",cp:1,t:0,sz:9},c={init:function(){c.getShops(),c.getplist()},getplist:function(){$.when($.ajax({url:$.apiUrl+"/address",type:"GET"})).done(function(c){t.plist=c.data})},getShops:function(){var a="/merchants?pc="+t.pc+"&cc="+t.cc+"&ac="+t.ac+"&cp="+t.cp+"&sz="+t.sz;$.when($.ajax({url:$.apiUrl+a,type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){t.list=a.data.merchants,t.t=a.data.totalCount,c.buildVue()})})},updateclist:function(c){$.ajax({url:$.apiUrl+"/address?code="+c,type:"GET"}).done(function(c){$.ylbAjaxHandler(c,function(){t.clist=c.data})})},updatealist:function(c){$.ajax({url:$.apiUrl+"/address?code="+c,type:"GET"}).done(function(c){$.ylbAjaxHandler(c,function(){t.alist=c.data})})},buildVue:function(){t=new Vue({el:"#shops-main",data:t,methods:{selprov:function(a){var n=$(a.target).find("option:selected").val();t.alist=[],c.updateclist(n),t.pc=n},selcity:function(a){var n=$(a.target).find("option:selected").val();t.alist=[],c.updatealist(n),t.cc=n},selarea:function(c){var a=$(c.target).find("option:selected").val();t.ac=a},searchshops:function(){t.cp=1,t.t=0,c.getShops()},showall:function(){t.pc="",t.cc="",t.ac="",c.getShops()},prev:function(){t.cp<=1||(t.cp=+t.cp-1,c.getShops())},next:function(){t.cp>=Math.ceil(t.t/t.sz)||(t.cp=+t.cp+1,c.getShops())},jump:function(){t.cp>=Math.ceil(t.t/t.sz)&&(t.cp=Math.ceil(t.t/t.sz)),t.cp<=1&&(t.cp=1),c.getShops()}}})}};c.init()}();