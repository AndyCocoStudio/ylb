!function(){var t={plist:[],clist:[],alist:[],pc:"",cc:"",ac:""},a={init:function(){a.getShops(),a.getplist()},getplist:function(){$.when($.ajax({url:$.apiUrl+"/address",type:"GET"})).done(function(a){t.plist=a.data})},getShops:function(){var n="/merchants?pc="+t.pc+"&cc="+t.cc+"&ac="+t.ac;$.when($.ajax({url:$.apiUrl+n,type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){t.list=n.data.merchants,a.buildVue()})})},updateclist:function(a){$.ajax({url:$.apiUrl+"/address?code="+a,type:"GET"}).done(function(a){$.ylbAjaxHandler(a,function(){t.clist=a.data})})},updatealist:function(a){$.ajax({url:$.apiUrl+"/address?code="+a,type:"GET"}).done(function(a){$.ylbAjaxHandler(a,function(){t.alist=a.data})})},buildVue:function(){t=new Vue({el:"#shops-main",data:t,methods:{selprov:function(n){var e=$(n.target).find("option:selected").val();t.alist=[],a.updateclist(e),t.pc=e},selcity:function(n){var e=$(n.target).find("option:selected").val();t.alist=[],a.updatealist(e),t.cc=e},selarea:function(a){var n=$(a.target).find("option:selected").val();t.ac=n},searchshops:function(){a.getShops()},showall:function(){t.pc="",t.cc="",t.ac="",a.getShops()}}})}};a.init()}();