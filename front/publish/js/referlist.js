!function(){var t={sz:2,t:0,cp:1,mt:0,mcp:1},n={init:function(){n.getlist()},getlist:function(){$.when($.ajax({url:$.apiUrl+"/merchant/users?cp="+t.cp+"&sz="+t.sz,type:"GET"})).done(function(c){$.ylbAjaxHandler(c,function(){t.list=c.data,t.t=c.data.totalCount,n.getInfo()})})},getInfo:function(){$.when($.ajax({url:$.apiUrl+"/user/abstract",type:"GET"})).done(function(t){$.ylbAjaxHandler(t,function(){"CustomerManager"==t.data.role||"CM"==t.data.role?n.getmlist():n.buildVue()})})},getmlist:function(){$.when($.ajax({url:$.apiUrl+"/customermanager/merchants?cp="+t.cp+"&sz="+t.sz,type:"GET"})).done(function(c){$.ylbAjaxHandler(c,function(){t.mlist=c.data,n.buildVue()})})},buildVue:function(){t=new Vue({el:"#refer-main",data:t,methods:{prev:function(){t.cp<=1||(t.cp=+t.cp-1,n.getlist())},next:function(){t.cp>=Math.ceil(t.t/t.sz)||(t.cp=+t.cp+1,n.getlist())},jump:function(){t.cp>=Math.ceil(t.t/t.sz)&&(t.cp=Math.ceil(t.t/t.sz)),t.cp<=1&&(t.cp=1),n.getlist()},mprev:function(){t.mcp<=1||(t.mcp=+t.mcp-1,n.getmlist())},mnext:function(){t.mcp>=Math.ceil(t.mt/t.sz)||(t.mcp=+t.mcp+1,n.getmlist())},mjump:function(){t.mcp>=Math.ceil(t.mt/t.sz)&&(t.mcp=Math.ceil(t.mt/t.sz)),t.mcp<=1&&(t.mcp=1),n.getmlist()}}})}};n.init()}();