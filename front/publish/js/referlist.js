!function(){var n={},e={init:function(){e.getlist()},getlist:function(){$.when($.ajax({url:$.apiUrl+"/merchant/recommended",type:"GET"})).done(function(t){$.ylbAjaxHandler(t,function(){n.list=t.data,e.getInfo()})})},getInfo:function(){$.when($.ajax({url:$.apiUrl+"/user/abstract",type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){"CustomerManager"==n.data.role||"CM"==n.data.role?e.getmlist():e.buildVue()})})},getmlist:function(){$.when($.ajax({url:$.apiUrl+"/customermanager/recommend/merchant",type:"GET"})).done(function(t){$.ylbAjaxHandler(t,function(){n.mlist=t.data,e.buildVue()})})},buildVue:function(){n=new Vue({el:"#refer-main",data:n,methods:{}})}};e.init()}();