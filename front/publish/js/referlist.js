!function(){var n={},t={init:function(){t.getlist()},getlist:function(){$.when($.ajax({url:$.apiUrl+"/merchant/users",type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){n.list=e.data,t.getInfo()})})},getInfo:function(){$.when($.ajax({url:$.apiUrl+"/user/abstract",type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){"CustomerManager"==n.data.role||"CM"==n.data.role?t.getmlist():t.buildVue()})})},getmlist:function(){$.when($.ajax({url:$.apiUrl+"/customermanager/merchants",type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){n.mlist=e.data,t.buildVue()})})},buildVue:function(){n=new Vue({el:"#refer-main",data:n,methods:{}})}};t.init()}();