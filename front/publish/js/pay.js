!function(){var a={id:$.urlParam("oid"),payway:1},i={init:function(){i.getOrder()},getOrder:function(){$.when($.ajax({url:$.apiUrl+"/bill?oid="+a.id,type:"GET"})).done(function(n){$.ylbAjaxHandler(n,function(){a.order=n.data,i.buildVue()})})},buildVue:function(){a=new Vue({el:"#pay-main",data:a,methods:{selectpayway:function(a){this.payway=a},useb:function(i){$(i.target).is(":checked")?a.isUseBalance=1:a.isUseBalance=0},payorder:function(){$.ylbConfirm({msg:"请输入支付密码：<input class='paypwd' type='password'/>",callback:function(){var i=$(".paypwd").val();$.ajax({url:$.apiUrl+"/pay",type:"POST",data:JSON.stringify({orderID:a.id,password:i})}).done(function(i){$.ylbAjaxHandler(i,function(){i.data?2==a.payway?window.location.href="http://api.hnylbsc.com/unionpay?id="+a.id:1==a.payway&&(window.location.href="http://api.hnylbsc.com/alipay?id="+a.id):($.ylbAlert("支付成功！"),setTimeout(function(){window.location.href="customer.html"},1500))})})}})}}})}};i.init()}();