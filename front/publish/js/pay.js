!function(){var a={id:$.urlParam("oid"),payway:2},n={init:function(){n.getOrder()},getOrder:function(){$.when($.ajax({url:$.apiUrl+"/bill?oid="+a.id,type:"GET"})).done(function(i){$.ylbAjaxHandler(i,function(){a.order=i.data,n.buildVue()})})},buildVue:function(){a=new Vue({el:"#pay-main",data:a,methods:{selectpayway:function(a){this.payway=a},payorder:function(){$.ylbConfirm({msg:"请输入支付密码：<input class='paypwd' type='password'/>",callback:function(){var n=$(".paypwd").val();$.ajax({url:$.apiUrl+"/pay",type:"POST",data:JSON.stringify({orderID:a.id,password:n})}).done(function(n){$.ylbAjaxHandler(n,function(){n.data?2==a.payway&&(window.location.href="http://api.hnylbsc.com/unionpay?id="+a.id):($.ylbAlert("支付成功！"),setTimeout(function(){window.location.href="customer.html"},1500))})})}})}}})}};n.init()}();