!function(){var d={hideaddress:!1,id:$.urlParam("id")||"",count:$.urlParam("count")},t={init:function(){t.getProduct()},getAddress:function(){$.when($.ajax({url:$.apiUrl+"/user/addresses",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){d.address=a.data,t.getProduct()})})},getProduct:function(){d.id&&$.when($.ajax({url:$.apiUrl+"/goods/detail",type:"GET",data:{id:d.id}})).done(function(a){$.ylbAjaxHandler(a,function(){d.data=a.data,d.data.count=d.count,t.buildVue()})})},buildVue:function(){d=new Vue({el:"#order-main",data:d,methods:{newaddress:function(){d.hideaddress=!d.hideaddress},addcount:function(){d.data.count=+d.data.count,d.data.count+=1},reducecount:function(){d.data.count=+d.data.count,+d.data.count-1>0&&(d.data.count-=1)}}})}};t.init()}();