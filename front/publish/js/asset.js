!function(){var t={tcp:1,rcp:1,ccp:1,tt:0,rt:0,ct:0,sz:20},c={init:function(){c.getUserInfo()},getUserInfo:function(){$.when($.ajax({url:$.apiUrl+"/user/abstract",type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){t.user=e.data,c.getAsset()})})},getAsset:function(){$.when($.ajax({url:$.apiUrl+"/user/asset",type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){t.detail=e.data,c.getTransfer()})})},getTransfer:function(){$.when($.ajax({url:$.apiUrl+"/user/transfers?cp="+t.tcp+"&sz="+t.sz,type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){t.transfer=e.data.transfers,t.tt=e.data.totalCount,c.getRecharge()})})},getRecharge:function(){$.when($.ajax({url:$.apiUrl+"/user/recharges?cp="+t.rcp+"&sz="+t.sz,type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){t.recharge=e.data.recharges,t.rt=e.data.totalCount,"Merchants"==t.user.role||"AM"==t.user.role||"CM"==t.user.role?c.getCommission():c.buildVue()})})},getCommission:function(){$.when($.ajax({url:$.apiUrl+"/commissions?cp="+t.ccp+"&sz="+t.sz,type:"GET"})).done(function(e){$.ylbAjaxHandler(e,function(){t.commission=e.data.commissions,t.ct=e.data.totalCount,c.buildVue()})})},buildVue:function(){t=new Vue({el:"#asset-main",data:t,methods:{cprev:function(){t.ccp<=1||(t.ccp=+t.ccp-1,c.getCommission())},cnext:function(){t.ccp>=Math.ceil(t.ct/t.sz)||(t.ccp=+t.ccp+1,c.getCommission())},cjump:function(){t.ccp>=Math.ceil(t.ct/t.sz)&&(t.ccp=Math.ceil(t.ct/t.sz)),t.ccp<=1&&(t.ccp=1),c.getCommission()},rprev:function(){t.rcp<=1||(t.rcp=+t.rcp-1,c.getRecharge())},rnext:function(){t.rcp>=Math.ceil(t.rt/t.sz)||(t.rcp=+t.rcp+1,c.getRecharge())},rjump:function(){t.rcp>=Math.ceil(t.rt/t.sz)&&(t.rcp=Math.ceil(t.rt/t.sz)),t.rcp<=1&&(t.rcp=1),c.getRecharge()},tprev:function(){t.tcp<=1||(t.tcp=+t.tcp-1,c.getTransfer())},tnext:function(){t.tcp>=Math.ceil(t.tt/t.sz)||(t.tcp=+t.tcp+1,c.getTransfer())},tjump:function(){t.tcp>=Math.ceil(t.tt/t.sz)&&(t.tcp=Math.ceil(t.tt/t.sz)),t.tcp<=1&&(t.tcp=1),c.getTransfer()}}})}};c.init()}();