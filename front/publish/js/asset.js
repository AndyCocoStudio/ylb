!function(){var e={},n={init:function(){n.getUserInfo()},getUserInfo:function(){$.when($.ajax({url:$.apiUrl+"/user/abstract",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){e.user=a.data,n.getAsset()})})},getAsset:function(){$.when($.ajax({url:$.apiUrl+"/user/asset",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){e.detail=a.data,n.getTransfer()})})},getTransfer:function(){$.when($.ajax({url:$.apiUrl+"/user/transfers",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){e.transfer=a.data.transfers,n.getRecharge()})})},getRecharge:function(){$.when($.ajax({url:$.apiUrl+"/user/recharges",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){e.recharge=a.data.recharges,"Merchants"==e.user.role||"AM"==e.user.role||"CM"==e.user.role?n.getCommission():n.buildVue()})})},getCommission:function(){$.when($.ajax({url:$.apiUrl+"/commissions?cp=1&sz=1000",type:"GET"})).done(function(a){$.ylbAjaxHandler(a,function(){e.commission=a.data.commissions,n.buildVue()})})},buildVue:function(){e=new Vue({el:"#asset-main",data:e,methods:{}})}};n.init()}();